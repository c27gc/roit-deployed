{"version":3,"file":"static/js/929.ac078b19.chunk.js","mappings":"2PAQe,SAASA,IACtB,IAAMC,GAAUC,EAAAA,EAAAA,MAChB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAgCF,EAAAA,EAAAA,UAAS,IAAzC,eAAOG,EAAP,KAAiBC,EAAjB,KACA,GAAiCC,EAAAA,EAAAA,KAAjC,eAAOC,EAAP,KAAgBC,EAAhB,KAAgBA,aAEhBC,EAAAA,EAAAA,YAAU,WACJF,GAASA,EAAMG,iBACjBX,EAAQY,KAAK,gBAEd,IA4CH,OACE,iBAAKC,UAAU,gCAAf,WACE,gBAAKA,UAAU,UAAf,oBAGA,iBAAKA,UAAU,wBAAf,WACE,gBAAKA,UAAU,mBAAf,oBACA,0BAAK,kBAAOA,UAAU,WAAWC,KAAK,QAAQC,SAAU,SAACC,GAAD,OAAOZ,EAASY,EAAEC,OAAOC,aACjF,gBAAKL,UAAU,mBAAf,uBACA,0BAAK,kBAAOA,UAAU,WAAWC,KAAK,WAAWC,SAAU,SAACC,GAAD,OAAOV,EAAYU,EAAEC,OAAOC,aACvF,gBAAKL,UAAU,qBAAf,UACE,mBAAQA,UAAU,oBAAoBM,QArD1B,WACJ,KAAVhB,GAA6B,KAAbE,GAClBe,EAAAA,MAAAA,gBAAsB,CACpBC,MAAO,aACPC,QAAS,yBACTR,KAAM,UACNS,OAAQ,MACRC,UAAW,YACXC,YAAa,CAAC,oBAAqB,mBACnCC,aAAc,CAAC,oBAAqB,oBACpCC,QAAS,CACPC,SAAU,IACVC,UAAU,KAIF,KAAV1B,GAAiB2B,IAAAA,QAAkB3B,IACrCiB,EAAAA,MAAAA,gBAAsB,CACpBC,MAAO,aACPC,QAAS,sBACTR,KAAM,UACNS,OAAQ,MACRC,UAAW,YACXC,YAAa,CAAC,oBAAqB,mBACnCC,aAAc,CAAC,oBAAqB,oBACpCC,QAAS,CACPC,SAAU,IACVC,UAAU,KAIF,KAAV1B,GAA6B,KAAbE,GAAmByB,IAAAA,QAAkB3B,IACvD4B,IAAAA,KAAW,mBAAoB,CAAE5B,MAAOA,EAAOE,SAAUA,IACtD2B,MAAK,SAACC,GACLC,QAAQC,IAAIF,EAAIG,MAChB,IAAQC,EAAUJ,EAAIG,KAAdC,MACRC,aAAaC,QAAQ,WAAYF,GACjC5B,IACAT,EAAQY,KAAK,kBAeb","sources":["pages/Login/index.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport Validator from 'validator';\r\nimport { Store } from 'react-notifications-component';\r\nimport Axios from 'axios';\r\nimport setAuthToken from '../../utils/setAuthToken';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useAllContext } from '../../contexts';\r\n\r\nexport default function Register() {\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [state, { setAuthInfo }] = useAllContext();\r\n\r\n  useEffect(() => {\r\n    if (state && state.isAuthenticated) {\r\n      history.push(\"/dashboard\");\r\n    }\r\n  }, [])\r\n\r\n  const handleLogin = () => {\r\n    if (email === \"\" || password === \"\") {\r\n      Store.addNotification({\r\n        title: \"Wonderful!\",\r\n        message: \"Please fill all fields\",\r\n        type: \"warning\",\r\n        insert: \"top\",\r\n        container: \"top-right\",\r\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n        dismiss: {\r\n          duration: 3000,\r\n          onScreen: true\r\n        }\r\n      });\r\n    }\r\n    if (email !== \"\" && !Validator.isEmail(email)) {\r\n      Store.addNotification({\r\n        title: \"Wonderful!\",\r\n        message: \"email is not valid!\",\r\n        type: \"warning\",\r\n        insert: \"top\",\r\n        container: \"top-right\",\r\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n        dismiss: {\r\n          duration: 3000,\r\n          onScreen: true\r\n        }\r\n      });\r\n    }\r\n    if (email !== \"\" && password !== \"\" && Validator.isEmail(email)) {\r\n      Axios.post(\"/api/users/login\", { email: email, password: password })\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          const { token } = res.data;\r\n          localStorage.setItem(\"jwtToken\", token);\r\n          setAuthInfo();\r\n          history.push(\"/dashboard\");\r\n        })\r\n    }\r\n  }\r\n  return (\r\n    <div className='x-container2 x-auth-container'>\r\n      <div className='x-font1'>\r\n        Login\r\n      </div>\r\n      <div className=' = \"x-center x-margin'>\r\n        <div className='x-font2 x-margin'>Email</div>\r\n        <div><input className=\"x-input1\" type=\"email\" onChange={(e) => setEmail(e.target.value)} /></div>\r\n        <div className='x-font2 x-margin'>Password</div>\r\n        <div><input className=\"x-input1\" type=\"password\" onChange={(e) => setPassword(e.target.value)} /></div>\r\n        <div className=\"x-center x-margin1\">\r\n          <button className='x-button1 x-font2' onClick={handleLogin}>Login</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":["Register","history","useHistory","useState","email","setEmail","password","setPassword","useAllContext","state","setAuthInfo","useEffect","isAuthenticated","push","className","type","onChange","e","target","value","onClick","Store","title","message","insert","container","animationIn","animationOut","dismiss","duration","onScreen","Validator","Axios","then","res","console","log","data","token","localStorage","setItem"],"sourceRoot":""}